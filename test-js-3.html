<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>test-js</title>
	</head>
	<body>
		<div id="container">
			
		</div>
	</body>
	<script>
		var mult = function () {
			var a = 1
			for (i = 0; i < arguments.length; i++) {
				a = a * arguments[i]
			}
			return a
		}
		
		var plus = function () {
			var a = 0;
			for (i = 0; i < arguments.length; i++) {
				a = a + arguments[i]
			}
			return a
		}
		
		var createProxyFactory = function(fn) {
			var cache = {}
			return function() {
				console.dir(arguments)
				var args = Array.prototype.join.call(arguments, ',')
				console.log(args)
				console.dir(cache)
				if (args in cache) {
					return cache[args]
				}
				return cache[args] = fn.apply(this, arguments)
			}
		}
		
		var proxyMult = createProxyFactory(mult)
		var proxyPlus= createProxyFactory(plus)
		
		console.log(proxyMult(1, 2, 3, 4))
		console.log(proxyMult(1, 2, 3, 4))
		console.log(proxyMult(1, 2, 3, 4))
	</script>
</html>