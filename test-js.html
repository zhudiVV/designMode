<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>each</title>
	</head>
	<body>
	</body>
	<script>
		// var Plane = function() {}
		
		// Plane.prototype.fire = function() {
		// 	console.log('发射普通子弹')
		// }
		
		// var MissileDecorator = function(plane) {
		// 	this.plane = plane
		// }
		
		// MissileDecorator.prototype.fire = function() {
		// 	this.plane.fire()
		// 	console.log('发射MissileDecorator')
		// }
		
		// var AtomDecorator = function(plane) {
		// 	this.plane = plane
		// }
		// AtomDecorator.prototype.fire = function() {
		// 	this.plane.fire()
		// 	console.log('发射AtomDecorator')
		// }
		
		// var plane = new Plane()
		// plane = new MissileDecorator(plane)
		// plane = new AtomDecorator(plane)
		// console.dir(plane)
		// plane.fire()
		
		
		var plane = {
			fire: function() {
				console.log('发射普通子弹')
			}
		}
		
		var missileDecorator = function(){  
		    console.log( '发射导弹' )
		}
		var atomDecorator = function(){ 
		    console.log( '发射原子弹' )
		}
		
		var fire1 = plane.fire
		plane.fire = function() {
			fire1()
			missileDecorator()
		}
		
		var fire2 = plane.fire
		plane.fire = function() {
			fire2()
			atomDecorator()
		}
		
		plane.fire()
		
	</script>
</html>